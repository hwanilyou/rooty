<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>항공 예약 시스템</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/index.css}">
</head>
<body>

<!-- 공통 메뉴바 프래그먼트 포함 -->
<div th:replace="fragments/header :: header"></div>

<!-- 본문 -->
<main>

    <!-- 메인 이미지 슬라이더 -->
    <div id="carouselExample" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="/images/airplane1.jpg" class="d-block w-100 h-40" alt="슬라이드1">
            </div>
            <div class="carousel-item">
                <img src="/images/airplane2.jpg" class="d-block w-100 h-40" alt="슬라이드2">
            </div>
            <div class="carousel-item">
                <img src="/images/airplane3.jpg" class="d-block w-100 h-40" alt="슬라이드3">
            </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
        </button>
    </div>

    iv>

    <!-- 공지사항 섹션 -->
    <div class="container my-4 notice-section">
        <h2 class="text-center">공지사항</h2>
        <div class="row">
            <div class="col-md-4">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">공지사항 1</h5>
                        <p class="card-text">내용을 여기에 입력하세요.</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">공지사항 2</h5>
                        <p class="card-text">내용을 여기에 입력하세요.</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">공지사항 3</h5>
                        <p class="card-text">내용을 여기에 입력하세요.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 푸터 -->
    <footer class="bg-dark text-white text-center py-3">
        &copy; 2025 항공 예약 시스템. 모든 권리 보유.
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // 로그인 상태 확인
        function checkLoginStatus() {
            const token = localStorage.getItem('token');
            const username = localStorage.getItem('username');
            const role = localStorage.getItem('role');

            if (token && username) {
                document.getElementById('loginNav').classList.add('d-none');
                document.getElementById('userNav').classList.remove('d-none');
                document.getElementById('logoutNav').classList.remove('d-none');
                document.getElementById('username').textContent = `${username} (${role})`;
            } else {
                document.getElementById('loginNav').classList.remove('d-none');
                document.getElementById('userNav').classList.add('d-none');
                document.getElementById('logoutNav').classList.add('d-none');
            }
        }

        // 로그아웃 처리
        document.getElementById('logoutBtn').addEventListener('click', function(e) {
            e.preventDefault();
            localStorage.removeItem('token');
            localStorage.removeItem('username');
            localStorage.removeItem('role');
            window.location.href = '/login';
        });

        // 페이지 로드 시 로그인 상태 확인
        document.addEventListener('DOMContentLoaded', checkLoginStatus);


        //스크롤 효과
        document.addEventListener("scroll", function () {
            let scrollPosition = window.scrollY;
            let fadeStart = 100; // 스크롤 100px 이상 내려가면 효과 시작
            let fadeEnd = 400;   // 400px 이상 내려가면 효과 완성

            let carousel = document.querySelector(".carousel");
            let noticeSection = document.querySelector(".notice-section");

            // 슬라이더 투명도 조절 (점점 연해짐)
            if (scrollPosition > fadeStart) {
                let opacity = 1 - (scrollPosition - fadeStart) / (fadeEnd - fadeStart);
                carousel.style.opacity = Math.max(opacity, 0);
            } else {
                carousel.style.opacity = 1;
            }

            // 공지사항 투명도 조절 (점점 진해짐)
            if (scrollPosition > fadeStart) {
                let noticeOpacity = 0.3 + (scrollPosition - fadeStart) / (fadeEnd - fadeStart);
                noticeSection.style.opacity = Math.min(noticeOpacity, 1);
            } else {
                noticeSection.style.opacity = 0.3;
            }
        });
    </script>

</main>

<!--<div th:replace="fragments/footer :: footer"></div>-->

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script th:src="@{/js/index.js}"></script> <!-- 분리된 스크립트 파일 추가 -->
</body>
</html>
